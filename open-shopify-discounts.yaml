openapi: 3.0.1
info:
  title: Discounts
  description: Discounts
  version: '2022-07'
servers:
  - url: 'https://{store_name}.myshopify.com/admin/api/{api_version}'
    variables:
      store_name:
        default: '{{store_name}}'
        description: The sub-domain of the storefront.
      api_version:
        default: '2022-07'
        description: The api version.
  - url: 'https://{store_name}.myshopify.com/admin'
    description: Some endpoints do not use the standard routing. This is an alternate.
    variables:
      store_name:
        default: '{{store_name}}'
        description: The sub-domain of the storefront.
paths:
  '/price_rules/{price_rule_id}/discount_codes.json':
    post:
      tags:
        - DiscountCode
      summary: Creates a discount code
      operationId: CreateDiscountCode
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDiscountCodeRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateDiscountCodeRequest'
        required: true
      responses:
        '201':
          description: Created
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeItem'
    get:
      tags:
        - DiscountCode
      summary: Retrieves a list of discount codes
      operationId: ListDiscountCodes
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Success
          headers:
            Link:
              description: 'The link header includes a `rel` parameter, where `relation-types` describes the relation of the linked page to the current page of results. The value can either be `previous` or `next`. If your initial request doesn''t return enough records to generate an additional page of results, then the response won''t have a link header.'
              schema:
                type: string
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeList'
  '/price_rules/{price_rule_id}/discount_codes/{discount_code_id}.json':
    put:
      tags:
        - DiscountCode
      summary: Updates an existing discount code
      operationId: UpdateDiscountCode
      parameters:
        - name: discount_code_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDiscountCodeRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdateDiscountCodeRequest'
        required: true
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeItem'
    get:
      tags:
        - DiscountCode
      summary: Retrieves a single discount code
      operationId: GetDiscountCode
      parameters:
        - name: discount_code_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeItem'
    delete:
      tags:
        - DiscountCode
      summary: Deletes a discount code
      operationId: DeleteDiscountCode
      parameters:
        - name: discount_code_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: No Content
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
  /discount_codes/lookup.json:
    get:
      tags:
        - DiscountCode
      summary: Retrieves the location of a discount code
      operationId: GetLocationOfDiscountCode
      parameters:
        - name: code
          in: query
          description: Retrieves the location of a discount code by code name.
          schema:
            type: string
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeItem'
  /discount_codes/count.json:
    get:
      tags:
        - DiscountCode
      summary: Retrieves a count of discount codes for a shop
      operationId: CountDiscountCodesForShop
      parameters:
        - name: times_used
          in: query
          description: Show discount codes with times used.
          schema:
            type: integer
            format: int32
        - name: times_used_max
          in: query
          description: Show discount codes used greater than or equal to this value.
          schema:
            type: integer
            format: int32
        - name: times_used_min
          in: query
          description: Show discount codes used less than or equal to this value.
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CountItem'
  '/price_rules/{price_rule_id}/batch.json':
    post:
      tags:
        - DiscountCode
      summary: Creates a discount code creation job
      operationId: CreateDiscountCodeCreationJob
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDiscountCodeBatchRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreateDiscountCodeBatchRequest'
        required: true
      responses:
        '201':
          description: Created
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeCreationItem'
  '/price_rules/{price_rule_id}/batch/{batch_id}.json':
    get:
      tags:
        - DiscountCode
      summary: Retrieves a discount code creation job
      operationId: GetDiscountCodeCreationJob
      parameters:
        - name: batch_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeCreationItem'
  '/price_rules/{price_rule_id}/batch/{batch_id}/discount_codes.json':
    get:
      tags:
        - DiscountCode
      summary: Retrieves a list of discount codes for a discount code creation job
      operationId: ListDiscountCodesForDiscountCodeCreationJob
      parameters:
        - name: batch_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Success
          headers:
            Link:
              description: 'The link header includes a `rel` parameter, where `relation-types` describes the relation of the linked page to the current page of results. The value can either be `previous` or `next`. If your initial request doesn''t return enough records to generate an additional page of results, then the response won''t have a link header.'
              schema:
                type: string
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DiscountCodeList'
  /price_rules.json:
    post:
      tags:
        - PriceRule
      summary: Creates a price rule
      operationId: CreatePriceRule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePriceRuleRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/CreatePriceRuleRequest'
        required: true
      responses:
        '201':
          description: Created
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceRuleItem'
    get:
      tags:
        - PriceRule
      summary: Retrieves a list of price rules
      operationId: ListPriceRules
      parameters:
        - name: created_at_max
          in: query
          description: Show price rules created before date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: created_at_min
          in: query
          description: Show price rules created after date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: ends_at_max
          in: query
          description: Show price rules ending before date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: ends_at_min
          in: query
          description: Show price rules ending after date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: limit
          in: query
          description: The maximum number of results to retrieve.
          schema:
            type: integer
            format: int32
        - name: page_info
          in: query
          description: A unique ID used to access a certain page of results.
          schema:
            type: string
        - name: since_id
          in: query
          description: Restrict results to after the specified ID.
          schema:
            type: integer
            format: int64
        - name: starts_at_max
          in: query
          description: Show price rules starting before date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: starts_at_min
          in: query
          description: Show price rules starting after date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: times_used
          in: query
          description: Show price rules with times used.
          schema:
            type: integer
            format: int32
        - name: updated_at_max
          in: query
          description: Show price rules last updated before date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
        - name: updated_at_min
          in: query
          description: Show price rules last updated after date (format 2017-03-25T16:15:47-04:00).
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: Success
          headers:
            Link:
              description: 'The link header includes a `rel` parameter, where `relation-types` describes the relation of the linked page to the current page of results. The value can either be `previous` or `next`. If your initial request doesn''t return enough records to generate an additional page of results, then the response won''t have a link header.'
              schema:
                type: string
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceRuleList'
  '/price_rules/{price_rule_id}.json':
    put:
      tags:
        - PriceRule
      summary: Updates an existing a price rule
      operationId: UpdatePriceRule
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePriceRuleRequest'
          application/*+json:
            schema:
              $ref: '#/components/schemas/UpdatePriceRuleRequest'
        required: true
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceRuleItem'
    get:
      tags:
        - PriceRule
      summary: Retrieves a single price rule
      operationId: GetPriceRule
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PriceRuleItem'
    delete:
      tags:
        - PriceRule
      summary: Remove an existing PriceRule
      operationId: DeletePriceRule
      parameters:
        - name: price_rule_id
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '204':
          description: No Content
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
  /price_rules/count.json:
    get:
      tags:
        - PriceRule
      summary: Retrieves a count of all price rules
      operationId: CountPriceRules
      responses:
        '200':
          description: Success
          headers:
            X-Shopify-Shop-Api-Call-Limit:
              description: How many requests you’ve made for a particular store
              schema:
                type: string
            Retry-After:
              description: Contains the number of seconds to wait until you can make a request again.
              schema:
                type: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CountItem'
components:
  schemas:
    CountItem:
      type: object
      properties:
        count:
          type: integer
          format: int32
      additionalProperties: { }
    CreateDiscountCode:
      type: object
      properties:
        code:
          type: string
          description: "The case-insensitive discount code that customers use at checkout. (maximum: 255 characters)\r\n <div class=\"note note-caution\"> \r\n\r\nUse the same value for `code` as the `title` property of the associated [price rule](/docs/admin-api/rest/reference/discounts/pricerule/#title-property).\r\n </div>"
          nullable: true
        price_rule_id:
          type: integer
          description: The ID for the price rule that this discount code belongs to.
          format: int64
          nullable: true
      additionalProperties: false
    CreateDiscountCodeBatchRequest:
      required:
        - discount_codes
      type: object
      properties:
        discount_codes:
          type: array
          items:
            $ref: '#/components/schemas/CreateDiscountCode'
      additionalProperties: false
    CreateDiscountCodeCreationJobRequest:
      type: object
      additionalProperties: false
    CreateDiscountCodeRequest:
      required:
        - discount_code
      type: object
      properties:
        discount_code:
          $ref: '#/components/schemas/CreateDiscountCode'
      additionalProperties: false
    CreatePriceRule:
      type: object
      properties:
        allocation_method:
          type: string
          description: "The allocation method of the price rule. Valid values:\r\n\r\n*   **each**: The discount is applied to each of the entitled items. For example, for a price rule that takes $15 off, each entitled line item in a checkout will be discounted by $15. \r\n*   **across**: The calculated discount amount will be applied across the entitled items. For example, for a price rule that takes $15 off, the discount will be applied across all the entitled items.  \r\n\r\nWhen the value of `target_type` is `shipping_line`, then this value must be `each`."
          nullable: true
        customer_selection:
          type: string
          description: "The customer selection for the price rule. Valid values:\r\n\r\n*   **all**: The price rule is valid for all customers. \r\n*   **prerequisite**: The customer must either belong to one of the customer segments specified by `customer_segment_prerequisite_ids`, or be one of the customers specified by `prerequisite_customer_ids`."
          nullable: true
        ends_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule ends. Must be after `starts_at`.'
          format: date-time
          nullable: true
        entitled_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of collections whose products will be eligible to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`. It can't be used in combination with `entitled_product_ids` or `entitled_variant_ids`.
          nullable: true
        entitled_country_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of shipping countries that will be entitled to the discount. It can be used only with `target_type` set to `shipping_line` and `target_selection` set to `entitled`.
          nullable: true
        entitled_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of products that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product variant is included in `entitled_variant_ids`, then `entitled_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        entitled_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of product variants that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product is included in `entitled_product_ids`, then `entitled_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        once_per_customer:
          type: boolean
          description: Whether the generated discount code will be valid only for a single use per customer. This is tracked using customer ID.
          nullable: true
        prerequisite_customer_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer IDs. For the price rule to be applicable, the customer must match one of the specified [customers](/docs/admin-api/rest/reference/customers/customer).\r\n\r\nIf `prerequisite_customer_ids` is populated, then `customer_segment_prerequisite_ids` must be empty."
          nullable: true
        prerequisite_quantity_range:
          type: string
          description: "The minimum number of items for the price rule to be applicable. It has the following property:\r\n\r\n*   **greater_than_or_equal_to**: The quantity of an entitled cart item must be greater than or equal to this value."
          nullable: true
        customer_segment_prerequisite_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer segment IDs. For the price rule to be applicable, the customer must be in the group of customers matching a customer segment.\r\n\r\nIf `customer_segment_prerequisite_ids` is populated, then `prerequisite_customer_ids` must be empty."
          nullable: true
        prerequisite_shipping_price_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_subtotal_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_to_entitlement_purchase:
          $ref: '#/components/schemas/PrerequisiteToEntitlementPurchase'
        starts_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule starts.'
          format: date-time
          nullable: true
        target_selection:
          type: string
          description: "The target selection method of the price rule. Valid values:\r\n\r\n*   **all**: The price rule applies the discount to all line items in the checkout. \r\n*   **entitled**: The price rule applies the discount to selected entitlements only."
          nullable: true
        target_type:
          type: string
          description: "The target type that the price rule applies to. Valid values:\r\n\r\n*   **line_item**: The price rule applies to the cart's line items. \r\n*   **shipping_line**: The price rule applies to the cart's shipping lines."
          nullable: true
        title:
          type: string
          description: "The title of the price rule. This is used by the Shopify admin search to retrieve discounts. It is also displayed on the **Discounts** page of the Shopify admin for bulk discounts.\r\n\r\nFor non-bulk discounts, the discount code is displayed on the admin.\r\n <div class=\"note note-caution\"> \r\n\r\nFor a consistent search experience, use the same value for `title` as the `code` property of the associated discount code.\r\n </div>"
          nullable: true
        usage_limit:
          type: integer
          description: 'The maximum number of times the price rule can be used, per discount code.'
          format: int64
          nullable: true
        prerequisite_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of product ids that will be a prerequisites for a Buy X Get Y type discount. The `prerequisite_product_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product variant is included in `prerequisite_variant_ids`, then `prerequisite_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        prerequisite_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of variant ids that will be a prerequisites for a Buy X Get Y type discount. The `entitled_variant_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product is included in `prerequisite_product_ids`, then `prerequisite_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        prerequisite_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of collection ids that will be a prerequisites for a Buy X Get Y discount. The `entitled_collection_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  Cannot be used in combination with `prerequisite_product_ids` or `prerequisite_variant_ids`."
          nullable: true
        value:
          type: number
          description: 'The value of the price rule. If if the value of `target_type` is `shipping_line`, then only `-100` is accepted. The value must be negative.'
          format: decimal
          nullable: true
        value_type:
          type: string
          description: "The value type of the price rule. Valid values:\r\n\r\n*   **fixed_amount**: Applies a discount of `value` as a unit of the store's currency. For example, if `value` is -30 and the store's currency is USD, then $30 USD is deducted when the discount is applied. \r\n*   **percentage**: Applies a percentage discount of `value`. For example, if `value` is -30, then 30% will be deducted when the discount is applied.  \r\n\r\nIf `target_type` is `shipping_line`, then only `percentage` is accepted."
          nullable: true
        prerequisite_to_entitlement_quantity_ratio:
          $ref: '#/components/schemas/PrerequisiteToEntitlementQuantityRatio'
        allocation_limit:
          type: string
          description: "The number of times the discount can be allocated on the cart - if eligible. For example a Buy 1 hat Get 1 hat for free discount can be applied 3 times on a cart having more than 6 hats, where maximum of 3 hats get discounted - if the `allocation_limit` is 3. Empty (`null`) `allocation_limit` means unlimited number of allocations.\r\n <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\n`allocation_limit` is only working with Buy X Get Y discount. The default value on creation will be `null` (unlimited).\r\n </div>"
          nullable: true
      additionalProperties: false
    CreatePriceRuleRequest:
      required:
        - price_rule
      type: object
      properties:
        price_rule:
          $ref: '#/components/schemas/CreatePriceRule'
      additionalProperties: false
    DiscountCode:
      type: object
      properties:
        code:
          type: string
          description: "The case-insensitive discount code that customers use at checkout. (maximum: 255 characters)\r\n <div class=\"note note-caution\"> \r\n\r\nUse the same value for `code` as the `title` property of the associated [price rule](/docs/admin-api/rest/reference/discounts/pricerule/#title-property).\r\n </div>"
          nullable: true
        price_rule_id:
          type: integer
          description: The ID for the price rule that this discount code belongs to.
          format: int64
          nullable: true
        usage_count:
          type: integer
          description: The number of times that the discount code has been redeemed.
          format: int32
          nullable: true
        amount:
          type: string
          description: The amount of the discount.
          nullable: true
        type:
          type: string
          description: 'The type of discount. Known values are ''percentage'', ''shipping'', ''fixed_amount'' and ''none''.'
          nullable: true
        errors:
          $ref: '#/components/schemas/DiscountCodeErrors'
        id:
          type: integer
          format: int64
          nullable: true
        admin_graphql_api_id:
          type: string
          nullable: true
        created_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the asset was created.'
          format: date-time
          nullable: true
        updated_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when an asset was last updated.'
          format: date-time
          nullable: true
      additionalProperties: { }
    DiscountCodeCreation:
      type: object
      properties:
        price_rule_id:
          type: integer
          format: int64
        started_at:
          type: string
          format: date-time
          nullable: true
        completed_at:
          type: string
          format: date-time
          nullable: true
        status:
          $ref: '#/components/schemas/DiscountCodeCreationStatus'
        codes_count:
          type: integer
          description: The number of discount codes to create
          format: int32
          nullable: true
        imported_count:
          type: integer
          description: The number of discount codes created successfully.
          format: int32
          nullable: true
        failed_count:
          type: integer
          description: The number of discount codes that were not created successfully. Unsuccessful attempts will retry up to three times.
          format: int32
          nullable: true
        logs:
          type: array
          items:
            type: string
          description: A report that specifies when no discount codes were created because the provided data was invalid.
          nullable: true
        errors:
          $ref: '#/components/schemas/DiscountCodeCreationErrors'
        id:
          type: integer
          format: int64
          nullable: true
        admin_graphql_api_id:
          type: string
          nullable: true
        created_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the asset was created.'
          format: date-time
          nullable: true
        updated_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when an asset was last updated.'
          format: date-time
          nullable: true
      additionalProperties: { }
    DiscountCodeCreationErrors:
      type: object
      properties:
        code:
          type: array
          items:
            type: string
          nullable: true
      additionalProperties: { }
    DiscountCodeCreationItem:
      required:
        - discount_code_creation
      type: object
      properties:
        discount_code_creation:
          $ref: '#/components/schemas/DiscountCodeCreation'
      additionalProperties: { }
    DiscountCodeCreationStatus:
      enum:
        - queued
        - running
        - completed
      type: string
      additionalProperties: { }
    DiscountCodeErrors:
      type: object
      properties:
        code:
          type: array
          items:
            type: string
          nullable: true
      additionalProperties: { }
    DiscountCodeItem:
      required:
        - discount_code
      type: object
      properties:
        discount_code:
          $ref: '#/components/schemas/DiscountCode'
      additionalProperties: { }
    DiscountCodeList:
      required:
        - discount_codes
      type: object
      properties:
        discount_codes:
          type: array
          items:
            $ref: '#/components/schemas/DiscountCode'
      additionalProperties: { }
    PrerequisiteToEntitlementPurchase:
      type: object
      properties:
        prerequisite_amount:
          type: number
          description: The minimum purchase amount required to be entitled to the discount.
          format: decimal
          nullable: true
      additionalProperties: { }
    PrerequisiteToEntitlementQuantityRatio:
      type: object
      properties:
        prerequisite_quantity:
          type: integer
          description: The necessary 'buy' quantity.
          format: int32
        'entitled_quantity ':
          type: integer
          description: The offered 'get' quantity.
          format: int32
      additionalProperties: { }
    PrerequisiteValueRange:
      type: object
      properties:
        less_than_or_equal_to:
          type: number
          format: decimal
          nullable: true
        greater_than_or_equal_to:
          type: number
          format: decimal
          nullable: true
      additionalProperties: { }
    PriceRule:
      required:
        - id
      type: object
      properties:
        allocation_method:
          type: string
          description: "The allocation method of the price rule. Valid values:\r\n\r\n*   **each**: The discount is applied to each of the entitled items. For example, for a price rule that takes $15 off, each entitled line item in a checkout will be discounted by $15. \r\n*   **across**: The calculated discount amount will be applied across the entitled items. For example, for a price rule that takes $15 off, the discount will be applied across all the entitled items.  \r\n\r\nWhen the value of `target_type` is `shipping_line`, then this value must be `each`."
          nullable: true
        customer_selection:
          type: string
          description: "The customer selection for the price rule. Valid values:\r\n\r\n*   **all**: The price rule is valid for all customers. \r\n*   **prerequisite**: The customer must either belong to one of the customer segments specified by `customer_segment_prerequisite_ids`, or be one of the customers specified by `prerequisite_customer_ids`."
          nullable: true
        ends_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule ends. Must be after `starts_at`.'
          format: date-time
          nullable: true
        entitled_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of collections whose products will be eligible to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`. It can't be used in combination with `entitled_product_ids` or `entitled_variant_ids`.
          nullable: true
        entitled_country_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of shipping countries that will be entitled to the discount. It can be used only with `target_type` set to `shipping_line` and `target_selection` set to `entitled`.
          nullable: true
        entitled_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of products that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product variant is included in `entitled_variant_ids`, then `entitled_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        entitled_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of product variants that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product is included in `entitled_product_ids`, then `entitled_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        once_per_customer:
          type: boolean
          description: Whether the generated discount code will be valid only for a single use per customer. This is tracked using customer ID.
          nullable: true
        prerequisite_customer_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer IDs. For the price rule to be applicable, the customer must match one of the specified [customers](/docs/admin-api/rest/reference/customers/customer).\r\n\r\nIf `prerequisite_customer_ids` is populated, then `customer_segment_prerequisite_ids` must be empty."
          nullable: true
        prerequisite_quantity_range:
          type: string
          description: "The minimum number of items for the price rule to be applicable. It has the following property:\r\n\r\n*   **greater_than_or_equal_to**: The quantity of an entitled cart item must be greater than or equal to this value."
          nullable: true
        customer_segment_prerequisite_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer segment IDs. For the price rule to be applicable, the customer must be in the group of customers matching a customer segment.\r\n\r\nIf `customer_segment_prerequisite_ids` is populated, then `prerequisite_customer_ids` must be empty."
          nullable: true
        prerequisite_shipping_price_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_subtotal_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_to_entitlement_purchase:
          $ref: '#/components/schemas/PrerequisiteToEntitlementPurchase'
        starts_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule starts.'
          format: date-time
          nullable: true
        target_selection:
          type: string
          description: "The target selection method of the price rule. Valid values:\r\n\r\n*   **all**: The price rule applies the discount to all line items in the checkout. \r\n*   **entitled**: The price rule applies the discount to selected entitlements only."
          nullable: true
        target_type:
          type: string
          description: "The target type that the price rule applies to. Valid values:\r\n\r\n*   **line_item**: The price rule applies to the cart's line items. \r\n*   **shipping_line**: The price rule applies to the cart's shipping lines."
          nullable: true
        title:
          type: string
          description: "The title of the price rule. This is used by the Shopify admin search to retrieve discounts. It is also displayed on the **Discounts** page of the Shopify admin for bulk discounts.\r\n\r\nFor non-bulk discounts, the discount code is displayed on the admin.\r\n <div class=\"note note-caution\"> \r\n\r\nFor a consistent search experience, use the same value for `title` as the `code` property of the associated discount code.\r\n </div>"
          nullable: true
        usage_limit:
          type: integer
          description: 'The maximum number of times the price rule can be used, per discount code.'
          format: int64
          nullable: true
        prerequisite_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of product ids that will be a prerequisites for a Buy X Get Y type discount. The `prerequisite_product_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product variant is included in `prerequisite_variant_ids`, then `prerequisite_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        prerequisite_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of variant ids that will be a prerequisites for a Buy X Get Y type discount. The `entitled_variant_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product is included in `prerequisite_product_ids`, then `prerequisite_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        prerequisite_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of collection ids that will be a prerequisites for a Buy X Get Y discount. The `entitled_collection_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  Cannot be used in combination with `prerequisite_product_ids` or `prerequisite_variant_ids`."
          nullable: true
        value:
          type: number
          description: 'The value of the price rule. If if the value of `target_type` is `shipping_line`, then only `-100` is accepted. The value must be negative.'
          format: decimal
          nullable: true
        value_type:
          type: string
          description: "The value type of the price rule. Valid values:\r\n\r\n*   **fixed_amount**: Applies a discount of `value` as a unit of the store's currency. For example, if `value` is -30 and the store's currency is USD, then $30 USD is deducted when the discount is applied. \r\n*   **percentage**: Applies a percentage discount of `value`. For example, if `value` is -30, then 30% will be deducted when the discount is applied.  \r\n\r\nIf `target_type` is `shipping_line`, then only `percentage` is accepted."
          nullable: true
        prerequisite_to_entitlement_quantity_ratio:
          $ref: '#/components/schemas/PrerequisiteToEntitlementQuantityRatio'
        allocation_limit:
          type: string
          description: "The number of times the discount can be allocated on the cart - if eligible. For example a Buy 1 hat Get 1 hat for free discount can be applied 3 times on a cart having more than 6 hats, where maximum of 3 hats get discounted - if the `allocation_limit` is 3. Empty (`null`) `allocation_limit` means unlimited number of allocations.\r\n <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\n`allocation_limit` is only working with Buy X Get Y discount. The default value on creation will be `null` (unlimited).\r\n </div>"
          nullable: true
        id:
          type: integer
          format: int64
        admin_graphql_api_id:
          type: string
          nullable: true
        created_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the asset was created.'
          format: date-time
          nullable: true
        updated_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when an asset was last updated.'
          format: date-time
          nullable: true
      additionalProperties: { }
    PriceRuleItem:
      required:
        - price_rule
      type: object
      properties:
        price_rule:
          $ref: '#/components/schemas/PriceRule'
      additionalProperties: { }
    PriceRuleList:
      required:
        - price_rules
      type: object
      properties:
        price_rules:
          type: array
          items:
            $ref: '#/components/schemas/PriceRule'
      additionalProperties: { }
    UpdateDiscountCode:
      type: object
      properties:
        code:
          type: string
          description: "The case-insensitive discount code that customers use at checkout. (maximum: 255 characters)\r\n <div class=\"note note-caution\"> \r\n\r\nUse the same value for `code` as the `title` property of the associated [price rule](/docs/admin-api/rest/reference/discounts/pricerule/#title-property).\r\n </div>"
          nullable: true
        price_rule_id:
          type: integer
          description: The ID for the price rule that this discount code belongs to.
          format: int64
          nullable: true
        amount:
          type: string
          description: The amount of the discount.
          nullable: true
        type:
          type: string
          description: 'The type of discount. Known values are ''percentage'', ''shipping'', ''fixed_amount'' and ''none''.'
          nullable: true
        errors:
          $ref: '#/components/schemas/DiscountCodeErrors'
        id:
          type: integer
          format: int64
          nullable: true
        admin_graphql_api_id:
          type: string
          nullable: true
      additionalProperties: false
    UpdateDiscountCodeRequest:
      required:
        - discount_code
      type: object
      properties:
        discount_code:
          $ref: '#/components/schemas/UpdateDiscountCode'
      additionalProperties: false
    UpdatePriceRule:
      required:
        - id
      type: object
      properties:
        allocation_method:
          type: string
          description: "The allocation method of the price rule. Valid values:\r\n\r\n*   **each**: The discount is applied to each of the entitled items. For example, for a price rule that takes $15 off, each entitled line item in a checkout will be discounted by $15. \r\n*   **across**: The calculated discount amount will be applied across the entitled items. For example, for a price rule that takes $15 off, the discount will be applied across all the entitled items.  \r\n\r\nWhen the value of `target_type` is `shipping_line`, then this value must be `each`."
          nullable: true
        customer_selection:
          type: string
          description: "The customer selection for the price rule. Valid values:\r\n\r\n*   **all**: The price rule is valid for all customers. \r\n*   **prerequisite**: The customer must either belong to one of the customer segments specified by `customer_segment_prerequisite_ids`, or be one of the customers specified by `prerequisite_customer_ids`."
          nullable: true
        ends_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule ends. Must be after `starts_at`.'
          format: date-time
          nullable: true
        entitled_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of collections whose products will be eligible to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`. It can't be used in combination with `entitled_product_ids` or `entitled_variant_ids`.
          nullable: true
        entitled_country_ids:
          type: array
          items:
            type: integer
            format: int64
          description: A list of IDs of shipping countries that will be entitled to the discount. It can be used only with `target_type` set to `shipping_line` and `target_selection` set to `entitled`.
          nullable: true
        entitled_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of products that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product variant is included in `entitled_variant_ids`, then `entitled_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        entitled_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of IDs of product variants that will be entitled to the discount. It can be used only with `target_type` set to `line_item` and `target_selection` set to `entitled`.\r\n <div class=\"note note-caution\"> \r\n\r\nIf a product is included in `entitled_product_ids`, then `entitled_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        once_per_customer:
          type: boolean
          description: Whether the generated discount code will be valid only for a single use per customer. This is tracked using customer ID.
          nullable: true
        prerequisite_customer_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer IDs. For the price rule to be applicable, the customer must match one of the specified [customers](/docs/admin-api/rest/reference/customers/customer).\r\n\r\nIf `prerequisite_customer_ids` is populated, then `customer_segment_prerequisite_ids` must be empty."
          nullable: true
        prerequisite_quantity_range:
          type: string
          description: "The minimum number of items for the price rule to be applicable. It has the following property:\r\n\r\n*   **greater_than_or_equal_to**: The quantity of an entitled cart item must be greater than or equal to this value."
          nullable: true
        customer_segment_prerequisite_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "A list of customer segment IDs. For the price rule to be applicable, the customer must be in the group of customers matching a customer segment.\r\n\r\nIf `customer_segment_prerequisite_ids` is populated, then `prerequisite_customer_ids` must be empty."
          nullable: true
        prerequisite_shipping_price_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_subtotal_range:
          $ref: '#/components/schemas/PrerequisiteValueRange'
        prerequisite_to_entitlement_purchase:
          $ref: '#/components/schemas/PrerequisiteToEntitlementPurchase'
        starts_at:
          type: string
          description: 'The date and time ([ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) format) when the price rule starts.'
          format: date-time
          nullable: true
        target_selection:
          type: string
          description: "The target selection method of the price rule. Valid values:\r\n\r\n*   **all**: The price rule applies the discount to all line items in the checkout. \r\n*   **entitled**: The price rule applies the discount to selected entitlements only."
          nullable: true
        target_type:
          type: string
          description: "The target type that the price rule applies to. Valid values:\r\n\r\n*   **line_item**: The price rule applies to the cart's line items. \r\n*   **shipping_line**: The price rule applies to the cart's shipping lines."
          nullable: true
        title:
          type: string
          description: "The title of the price rule. This is used by the Shopify admin search to retrieve discounts. It is also displayed on the **Discounts** page of the Shopify admin for bulk discounts.\r\n\r\nFor non-bulk discounts, the discount code is displayed on the admin.\r\n <div class=\"note note-caution\"> \r\n\r\nFor a consistent search experience, use the same value for `title` as the `code` property of the associated discount code.\r\n </div>"
          nullable: true
        usage_limit:
          type: integer
          description: 'The maximum number of times the price rule can be used, per discount code.'
          format: int64
          nullable: true
        prerequisite_product_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of product ids that will be a prerequisites for a Buy X Get Y type discount. The `prerequisite_product_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product variant is included in `prerequisite_variant_ids`, then `prerequisite_product_ids` can't include the ID of the product associated with that variant.\r\n </div>"
          nullable: true
        prerequisite_variant_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of variant ids that will be a prerequisites for a Buy X Get Y type discount. The `entitled_variant_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\nIf a product is included in `prerequisite_product_ids`, then `prerequisite_variant_ids` can't include the ID of any variants associated with that product.\r\n </div>"
          nullable: true
        prerequisite_collection_ids:
          type: array
          items:
            type: integer
            format: int64
          description: "List of collection ids that will be a prerequisites for a Buy X Get Y discount. The `entitled_collection_ids` can be used only with:\r\n\r\n*   `target_type` set to `line_item`, \r\n*   `target_selection` set to `entitled`, \r\n*   `allocation_method` set to `each` and \r\n*   `prerequisite_to_entitlement_quantity_ratio` defined.  Cannot be used in combination with `prerequisite_product_ids` or `prerequisite_variant_ids`."
          nullable: true
        value:
          type: number
          description: 'The value of the price rule. If if the value of `target_type` is `shipping_line`, then only `-100` is accepted. The value must be negative.'
          format: decimal
          nullable: true
        value_type:
          type: string
          description: "The value type of the price rule. Valid values:\r\n\r\n*   **fixed_amount**: Applies a discount of `value` as a unit of the store's currency. For example, if `value` is -30 and the store's currency is USD, then $30 USD is deducted when the discount is applied. \r\n*   **percentage**: Applies a percentage discount of `value`. For example, if `value` is -30, then 30% will be deducted when the discount is applied.  \r\n\r\nIf `target_type` is `shipping_line`, then only `percentage` is accepted."
          nullable: true
        prerequisite_to_entitlement_quantity_ratio:
          $ref: '#/components/schemas/PrerequisiteToEntitlementQuantityRatio'
        allocation_limit:
          type: string
          description: "The number of times the discount can be allocated on the cart - if eligible. For example a Buy 1 hat Get 1 hat for free discount can be applied 3 times on a cart having more than 6 hats, where maximum of 3 hats get discounted - if the `allocation_limit` is 3. Empty (`null`) `allocation_limit` means unlimited number of allocations.\r\n <div class=\"note note-caution\"> \r\n\r\n#### Caution\r\n\r\n`allocation_limit` is only working with Buy X Get Y discount. The default value on creation will be `null` (unlimited).\r\n </div>"
          nullable: true
        id:
          type: integer
          format: int64
        admin_graphql_api_id:
          type: string
          nullable: true
      additionalProperties: false
    UpdatePriceRuleRequest:
      required:
        - price_rule
      type: object
      properties:
        price_rule:
          $ref: '#/components/schemas/UpdatePriceRule'
      additionalProperties: false
  securitySchemes:
    ApiKey:
      type: apiKey
      name: X-Shopify-Access-Token
      in: header
security:
  - ApiKey: [ ]
{
  "openapi": "3.0.0",
  "info": {
    "title": "FulfillmentRequest",
    "description": "        <p>\n          The <code>FulfillmentRequest</code> resource represents a fulfillment request made by the merchant\n          or an order management app\n          to a <a href=\"/docs/admin-api/rest/reference/shipping-and-fulfillment/fulfillmentservice\">fulfillment service</a>\n          for a <a href=\"/docs/admin-api/rest/reference/shipping-and-fulfillment/fulfillmentorder\">fulfillment order</a>.\n          A fulfillment service can accept or reject the fulfillment request.\n        </p>\n        <h2>Terminating a fulfillment request</h2>\n        <p>\n          A fulfillment service can stop fulfilling an accepted fulfillment request if they choose\n          <a href=\"/api/admin-rest/latest/resources/fulfillmentorder#post-fulfillment-orders-fulfillment-order-id-close\">closing the fulfillment order as incomplete</a>.\n          The fulfillment order can be partially fulfilled when a fulfillment service chooses to stop the fulfillment.\n        </p>\n        <p>\n          The merchant or an order management app can notify the fulfillment service to cancel an accepted fulfillment request by sending a\n          <a href=\"/api/admin-rest/latest/resources/cancellationrequest#post-fulfillment-orders-fulfillment-order-id-cancellation-request\">cancellation request</a>.\n          The fulfillment service can accept or reject the cancellation request. The fulfillment order can be partially fulfilled at this time.\n        </p>\n        <p>\n          The merchant or an order management app can also\n          <a href=\"/api/admin-rest/latest/resources/fulfillmentorder#post-fulfillment-orders-fulfillment-order-id-cancel\">cancel</a>\n          a fulfillment order.\n          Calling the <code>cancel</code> endpoint results in the fulfilment order being cancelled within Shopify.\n          This change will not be communicated to the fulfilment service.\n          If the intention is for a fulfilment service to halt fulfilment activity,\n          a <a href=\"/api/admin-rest/latest/resources/cancellationrequest#post-fulfillment-orders-fulfillment-order-id-cancellation-request\">cancellation request</a>\n          should be sent to the fulfilment service instead, as described above.\n        </p>\n        <h2>Retrieving fulfillment request details</h2>\n        <p>\n          The <code>FulfillmentOrder</code> resource and the <code>merchant_requests</code> field can be used to retrieve\n          the merchant requests which have been made.\n          The overall status of these requests is also available using the <code>request_status</code> field of the fulfillment order.\n        </p>\n        <p>\n          To learn more about the fulfillment request process in the fulfillment workflow, refer to\n          <a href=\"/apps/fulfillment/fulfillment-service-apps/manage-fulfillments\">Manage fulfillments as a fulfillment service app</a> guide.\n        </p>\n",
    "x-owner": "https://vault.shopify.io/teams/2678",
    "x-description-list": null,
    "version": "2023-04"
  },
  "paths": [
    {
      "description": "Sends a fulfillment request to the fulfillment service of a fulfillment order.",
      "summary": "Sends a fulfillment request",
      "operationId": "Sendsafulfillmentrequest",
      "parameters": [
        {
          "name": "api_version",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "fulfillment_order_id",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "fulfillment_order_line_items",
          "description": "The fulfillment order line items to be requested for fulfillment. If left blank, all line items of the fulfillment order are requested for fulfillment.",
          "in": "query",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "message",
          "description": "An optional message for the fulfillment request.",
          "in": "query",
          "schema": {
            "type": "string"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Sends a fulfillment request",
          "content": {
            "application/json": {
              "examples": {
                "Sends a fulfillment request to the fulfillment service for all line items on the fulfillment order if fulfillment_order_line_items is left blank": {
                  "value": {
                    "original_fulfillment_order": {
                      "id": 1046000828,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "submitted",
                      "status": "open",
                      "supported_actions": [
                        "cancel_fulfillment_order"
                      ],
                      "destination": {
                        "id": 1046000822,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737569,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737570,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        },
                        {
                          "id": 1058737571,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [
                        {
                          "message": "Fulfill this ASAP please.",
                          "request_options": {
                            "notify_customer": false
                          },
                          "sent_at": "2023-02-02T07:33:04-07:00",
                          "kind": "fulfillment_request"
                        }
                      ],
                      "fulfillment_service_handle": "shipwire-app"
                    },
                    "submitted_fulfillment_order": {
                      "id": 1046000828,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "submitted",
                      "status": "open",
                      "supported_actions": [
                        "cancel_fulfillment_order"
                      ],
                      "destination": {
                        "id": 1046000822,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737569,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737570,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        },
                        {
                          "id": 1058737571,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000828,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [
                        {
                          "message": "Fulfill this ASAP please.",
                          "request_options": {
                            "notify_customer": false
                          },
                          "sent_at": "2023-02-02T07:33:04-07:00",
                          "kind": "fulfillment_request"
                        }
                      ],
                      "fulfillment_service_handle": "shipwire-app"
                    },
                    "unsubmitted_fulfillment_order": null
                  }
                },
                "Sends a fulfillment request to the fulfillment service of a fulfillment order for the specified line items": {
                  "value": {
                    "original_fulfillment_order": {
                      "id": 1046000825,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "unsubmitted",
                      "status": "closed",
                      "supported_actions": [],
                      "destination": {
                        "id": 1046000819,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737563,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000825,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737564,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000825,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        },
                        {
                          "id": 1058737565,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000825,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [],
                      "fulfillment_service_handle": "shipwire-app"
                    },
                    "submitted_fulfillment_order": {
                      "id": 1046000826,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "submitted",
                      "status": "open",
                      "supported_actions": [
                        "cancel_fulfillment_order"
                      ],
                      "destination": {
                        "id": 1046000820,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737566,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000826,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737567,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000826,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        }
                      ],
                      "outgoing_requests": [
                        {
                          "message": "Fulfill this ASAP please.",
                          "request_options": {
                            "notify_customer": false
                          },
                          "sent_at": "2023-02-02T07:33:01-07:00",
                          "kind": "fulfillment_request"
                        }
                      ],
                      "fulfillment_service_handle": "shipwire-app"
                    },
                    "unsubmitted_fulfillment_order": {
                      "id": 1046000827,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "unsubmitted",
                      "status": "open",
                      "supported_actions": [
                        "request_fulfillment",
                        "create_fulfillment"
                      ],
                      "destination": {
                        "id": 1046000821,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737568,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000827,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [],
                      "fulfillment_service_handle": "shipwire-app"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "x-examples": [
        {
          "status": "200",
          "request_query": "",
          "request_path": "/admin/api/2023-04/fulfillment_orders/1046000828/fulfillment_request.json",
          "request_method": "POST",
          "request": {
            "action": "POST /admin/api/2020-01/fulfillment_orders/1046000828/fulfillment_request.json",
            "headers": {},
            "body": "{\"fulfillment_request\":{\"message\":\"Fulfill this ASAP please.\"}}"
          },
          "response": {
            "action": "HTTP/1.1 200 OK",
            "headers": {},
            "body": "{\"original_fulfillment_order\":{\"id\":1046000828,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"submitted\",\"status\":\"open\",\"supported_actions\":[\"cancel_fulfillment_order\"],\"destination\":{\"id\":1046000822,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737569,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737570,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385},{\"id\":1058737571,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[{\"message\":\"Fulfill this ASAP please.\",\"request_options\":{\"notify_customer\":false},\"sent_at\":\"2023-02-02T09:33:04-05:00\",\"kind\":\"fulfillment_request\"}],\"fulfillment_service_handle\":\"shipwire-app\"},\"submitted_fulfillment_order\":{\"id\":1046000828,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"submitted\",\"status\":\"open\",\"supported_actions\":[\"cancel_fulfillment_order\"],\"destination\":{\"id\":1046000822,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737569,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737570,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385},{\"id\":1058737571,\"shop_id\":548380009,\"fulfillment_order_id\":1046000828,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[{\"message\":\"Fulfill this ASAP please.\",\"request_options\":{\"notify_customer\":false},\"sent_at\":\"2023-02-02T09:33:04-05:00\",\"kind\":\"fulfillment_request\"}],\"fulfillment_service_handle\":\"shipwire-app\"},\"unsubmitted_fulfillment_order\":null}"
          },
          "name": "Sends a fulfillment request to the fulfillment service for all line items on the fulfillment order if fulfillment_order_line_items is left blank",
          "codeSamples": [
            {
              "language": "curl",
              "example_code": "curl -d '{\"fulfillment_request\":{\"message\":\"Fulfill this ASAP please.\"}}' \\\n-X POST \"https://your-development-store.myshopify.com/admin/api/2023-04/fulfillment_orders/1046000828/fulfillment_request.json\" \\\n-H \"X-Shopify-Access-Token: {access_token}\" \\\n-H \"Content-Type: application/json\"\n"
            },
            {
              "language": "ruby",
              "example_code": "test_session = ShopifyAPI::Utils::SessionUtils.load_current_session(\n  auth_header: request.auth_header,\n  cookies: request.cookies,\n)\n\nfulfillment_request = ShopifyAPI::FulfillmentRequest.new(session: test_session)\nfulfillment_request.fulfillment_order_id = 1046000828\nfulfillment_request.message = \"Fulfill this ASAP please.\"\nfulfillment_request.save!"
            },
            {
              "language": "node",
              "example_code": "// Session is built by the OAuth process\n\nconst fulfillment_request = new shopify.rest.FulfillmentRequest({session: session});\nfulfillment_request.fulfillment_order_id = 1046000828;\nfulfillment_request.message = \"Fulfill this ASAP please.\";\nawait fulfillment_request.save({\n  update: true,\n});"
            },
            {
              "language": "php",
              "example_code": "use Shopify\\Rest\\Admin2023_04\\FulfillmentRequest;\nuse Shopify\\Utils;\n\n$this->test_session = Utils::loadCurrentSession(\n    $requestHeaders,\n    $requestCookies,\n    $isOnline\n);\n\n$fulfillment_request = new FulfillmentRequest($this->test_session);\n$fulfillment_request->fulfillment_order_id = 1046000828;\n$fulfillment_request->message = \"Fulfill this ASAP please.\";\n$fulfillment_request->save(\n    true, // Update Object\n);"
            }
          ]
        },
        {
          "status": "200",
          "request_query": "",
          "request_path": "/admin/api/2023-04/fulfillment_orders/1046000825/fulfillment_request.json",
          "request_method": "POST",
          "request": {
            "action": "POST /admin/api/2020-01/fulfillment_orders/1046000825/fulfillment_request.json",
            "headers": {},
            "body": "{\"fulfillment_request\":{\"message\":\"Fulfill this ASAP please.\",\"fulfillment_order_line_items\":[{\"id\":1058737563,\"quantity\":1},{\"id\":1058737564,\"quantity\":1}]}}"
          },
          "response": {
            "action": "HTTP/1.1 200 OK",
            "headers": {},
            "body": "{\"original_fulfillment_order\":{\"id\":1046000825,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"unsubmitted\",\"status\":\"closed\",\"supported_actions\":[],\"destination\":{\"id\":1046000819,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737563,\"shop_id\":548380009,\"fulfillment_order_id\":1046000825,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737564,\"shop_id\":548380009,\"fulfillment_order_id\":1046000825,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385},{\"id\":1058737565,\"shop_id\":548380009,\"fulfillment_order_id\":1046000825,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[],\"fulfillment_service_handle\":\"shipwire-app\"},\"submitted_fulfillment_order\":{\"id\":1046000826,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"submitted\",\"status\":\"open\",\"supported_actions\":[\"cancel_fulfillment_order\"],\"destination\":{\"id\":1046000820,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737566,\"shop_id\":548380009,\"fulfillment_order_id\":1046000826,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737567,\"shop_id\":548380009,\"fulfillment_order_id\":1046000826,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385}],\"outgoing_requests\":[{\"message\":\"Fulfill this ASAP please.\",\"request_options\":{\"notify_customer\":false},\"sent_at\":\"2023-02-02T09:33:01-05:00\",\"kind\":\"fulfillment_request\"}],\"fulfillment_service_handle\":\"shipwire-app\"},\"unsubmitted_fulfillment_order\":{\"id\":1046000827,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"unsubmitted\",\"status\":\"open\",\"supported_actions\":[\"request_fulfillment\",\"create_fulfillment\"],\"destination\":{\"id\":1046000821,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737568,\"shop_id\":548380009,\"fulfillment_order_id\":1046000827,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[],\"fulfillment_service_handle\":\"shipwire-app\"}}"
          },
          "name": "Sends a fulfillment request to the fulfillment service of a fulfillment order for the specified line items",
          "codeSamples": [
            {
              "language": "curl",
              "example_code": "curl -d '{\"fulfillment_request\":{\"message\":\"Fulfill this ASAP please.\",\"fulfillment_order_line_items\":[{\"id\":1058737563,\"quantity\":1},{\"id\":1058737564,\"quantity\":1}]}}' \\\n-X POST \"https://your-development-store.myshopify.com/admin/api/2023-04/fulfillment_orders/1046000825/fulfillment_request.json\" \\\n-H \"X-Shopify-Access-Token: {access_token}\" \\\n-H \"Content-Type: application/json\"\n"
            },
            {
              "language": "ruby",
              "example_code": "test_session = ShopifyAPI::Utils::SessionUtils.load_current_session(\n  auth_header: request.auth_header,\n  cookies: request.cookies,\n)\n\nfulfillment_request = ShopifyAPI::FulfillmentRequest.new(session: test_session)\nfulfillment_request.fulfillment_order_id = 1046000825\nfulfillment_request.message = \"Fulfill this ASAP please.\"\nfulfillment_request.fulfillment_order_line_items = [\n  {\n    \"id\" => 1058737563,\n    \"quantity\" => 1\n  },\n  {\n    \"id\" => 1058737564,\n    \"quantity\" => 1\n  }\n]\nfulfillment_request.save!"
            },
            {
              "language": "node",
              "example_code": "// Session is built by the OAuth process\n\nconst fulfillment_request = new shopify.rest.FulfillmentRequest({session: session});\nfulfillment_request.fulfillment_order_id = 1046000825;\nfulfillment_request.message = \"Fulfill this ASAP please.\";\nfulfillment_request.fulfillment_order_line_items = [\n  {\n    \"id\": 1058737563,\n    \"quantity\": 1\n  },\n  {\n    \"id\": 1058737564,\n    \"quantity\": 1\n  }\n];\nawait fulfillment_request.save({\n  update: true,\n});"
            },
            {
              "language": "php",
              "example_code": "use Shopify\\Rest\\Admin2023_04\\FulfillmentRequest;\nuse Shopify\\Utils;\n\n$this->test_session = Utils::loadCurrentSession(\n    $requestHeaders,\n    $requestCookies,\n    $isOnline\n);\n\n$fulfillment_request = new FulfillmentRequest($this->test_session);\n$fulfillment_request->fulfillment_order_id = 1046000825;\n$fulfillment_request->message = \"Fulfill this ASAP please.\";\n$fulfillment_request->fulfillment_order_line_items = [\n    [\n        \"id\" => 1058737563,\n        \"quantity\" => 1\n    ],\n    [\n        \"id\" => 1058737564,\n        \"quantity\" => 1\n    ]\n];\n$fulfillment_request->save(\n    true, // Update Object\n);"
            }
          ]
        }
      ],
      "x-api-accessibilities": {
        "initial": [
          {
            "scope": "third_party_fulfillment_orders"
          }
        ]
      },
      "url": "/admin/api/{api_version}/fulfillment_orders/{fulfillment_order_id}/fulfillment_request.json",
      "action": "post"
    },
    {
      "description": "Accepts a fulfillment request sent to a fulfillment service for a fulfillment order.",
      "summary": "Accepts a fulfillment request",
      "operationId": "Acceptsafulfillmentrequest",
      "parameters": [
        {
          "name": "api_version",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "fulfillment_order_id",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "message",
          "description": "An optional reason for accepting the fulfillment request.",
          "in": "query",
          "schema": {
            "type": "string"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Accepts a fulfillment request",
          "content": {
            "application/json": {
              "examples": {
                "Accepts a fulfillment request sent to a fulfillment service and updates the fulfillment order": {
                  "value": {
                    "fulfillment_order": {
                      "id": 1046000829,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "accepted",
                      "status": "in_progress",
                      "supported_actions": [
                        "request_cancellation",
                        "create_fulfillment"
                      ],
                      "destination": {
                        "id": 1046000823,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737572,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000829,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737573,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000829,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        },
                        {
                          "id": 1058737574,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000829,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [],
                      "fulfillment_service_handle": "shipwire-app"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "x-examples": [
        {
          "status": "200",
          "request_query": "",
          "request_path": "/admin/api/2023-04/fulfillment_orders/1046000829/fulfillment_request/accept.json",
          "request_method": "POST",
          "request": {
            "action": "POST /admin/api/2020-01/fulfillment_orders/1046000829/fulfillment_request/accept.json",
            "headers": {},
            "body": "{\"fulfillment_request\":{\"message\":\"We will start processing your fulfillment on the next business day.\"}}"
          },
          "response": {
            "action": "HTTP/1.1 200 OK",
            "headers": {},
            "body": "{\"fulfillment_order\":{\"id\":1046000829,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"accepted\",\"status\":\"in_progress\",\"supported_actions\":[\"request_cancellation\",\"create_fulfillment\"],\"destination\":{\"id\":1046000823,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737572,\"shop_id\":548380009,\"fulfillment_order_id\":1046000829,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737573,\"shop_id\":548380009,\"fulfillment_order_id\":1046000829,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385},{\"id\":1058737574,\"shop_id\":548380009,\"fulfillment_order_id\":1046000829,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[],\"fulfillment_service_handle\":\"shipwire-app\"}}"
          },
          "name": "Accepts a fulfillment request sent to a fulfillment service and updates the fulfillment order",
          "codeSamples": [
            {
              "language": "curl",
              "example_code": "curl -d '{\"fulfillment_request\":{\"message\":\"We will start processing your fulfillment on the next business day.\"}}' \\\n-X POST \"https://your-development-store.myshopify.com/admin/api/2023-04/fulfillment_orders/1046000829/fulfillment_request/accept.json\" \\\n-H \"X-Shopify-Access-Token: {access_token}\" \\\n-H \"Content-Type: application/json\"\n"
            },
            {
              "language": "ruby",
              "example_code": "test_session = ShopifyAPI::Utils::SessionUtils.load_current_session(\n  auth_header: request.auth_header,\n  cookies: request.cookies,\n)\n\nfulfillment_request = ShopifyAPI::FulfillmentRequest.new(session: test_session)\nfulfillment_request.fulfillment_order_id = 1046000829\nfulfillment_request.accept(\n  session: test_session,\n  body: {\"fulfillment_request\" => {\"message\" => \"We will start processing your fulfillment on the next business day.\"}},\n)"
            },
            {
              "language": "node",
              "example_code": "// Session is built by the OAuth process\n\nconst fulfillment_request = new shopify.rest.FulfillmentRequest({session: session});\nfulfillment_request.fulfillment_order_id = 1046000829;\nawait fulfillment_request.accept({\n  body: {\"fulfillment_request\": {\"message\": \"We will start processing your fulfillment on the next business day.\"}},\n});"
            },
            {
              "language": "php",
              "example_code": "use Shopify\\Rest\\Admin2023_04\\FulfillmentRequest;\nuse Shopify\\Utils;\n\n$this->test_session = Utils::loadCurrentSession(\n    $requestHeaders,\n    $requestCookies,\n    $isOnline\n);\n\n$fulfillment_request = new FulfillmentRequest($this->test_session);\n$fulfillment_request->fulfillment_order_id = 1046000829;\n$fulfillment_request->accept(\n    [], // Params\n    [\"fulfillment_request\" => [\"message\" => \"We will start processing your fulfillment on the next business day.\"]], // Body\n);"
            }
          ]
        }
      ],
      "x-api-accessibilities": {
        "initial": [
          {
            "scope": "assigned_fulfillment_orders"
          }
        ]
      },
      "url": "/admin/api/{api_version}/fulfillment_orders/{fulfillment_order_id}/fulfillment_request/accept.json",
      "action": "post"
    },
    {
      "description": "Rejects a fulfillment request sent to a fulfillment service for a fulfillment order.",
      "summary": "Rejects a fulfillment request",
      "operationId": "Rejectsafulfillmentrequest",
      "parameters": [
        {
          "name": "api_version",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "fulfillment_order_id",
          "in": "path",
          "schema": {
            "type": "string"
          },
          "required": true
        },
        {
          "name": "line_items",
          "description": "An optional array of rejected line items. Each line item has the following properties:\n          <ul>\n            <li><strong>fulfillment_order_line_item_id</strong>: An identifier for the rejected line item.</li>\n            <li><strong>message</strong>: An optional message for rejecting the line item. (150 characters maximum)</li>\n          </ul>",
          "in": "query",
          "schema": {
            "type": "array"
          }
        },
        {
          "name": "message",
          "description": "An optional message for rejecting the fulfillment request.",
          "in": "query",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "reason",
          "description": "An optional reason for the fulfillment request rejection.",
          "in": "query",
          "schema": {
            "type": "enum",
            "enum": [
              "incorrect_address",
              "inventory_out_of_stock",
              "ineligible_product",
              "undeliverable_destination",
              "other"
            ]
          },
          "examples": {
            "incorrect_address": {
              "summary": "The fulfillment request was rejected because of an incorrect address.",
              "value": "incorrect_address"
            },
            "inventory_out_of_stock": {
              "summary": "The fulfillment request was rejected because inventory is out of stock.",
              "value": "inventory_out_of_stock"
            },
            "ineligible_product": {
              "summary": "The fulfillment request was rejected because of an ineligible product.",
              "value": "ineligible_product"
            },
            "undeliverable_destination": {
              "summary": "The fulfillment request was rejected because of an undeliverable destination.",
              "value": "undeliverable_destination"
            },
            "other": {
              "summary": "The fulfillment request was rejected for another reason.",
              "value": "other"
            }
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Rejects a fulfillment request",
          "content": {
            "application/json": {
              "examples": {
                "Rejects a fulfillment request sent to a fulfillment service and updates the fulfillment order": {
                  "value": {
                    "fulfillment_order": {
                      "id": 1046000830,
                      "shop_id": 548380009,
                      "order_id": 450789469,
                      "assigned_location_id": 24826418,
                      "request_status": "rejected",
                      "status": "open",
                      "supported_actions": [
                        "request_fulfillment",
                        "create_fulfillment"
                      ],
                      "destination": {
                        "id": 1046000824,
                        "address1": "Chestnut Street 92",
                        "address2": "",
                        "city": "Louisville",
                        "company": null,
                        "country": "United States",
                        "email": "bob.norman@mail.example.com",
                        "first_name": "Bob",
                        "last_name": "Norman",
                        "phone": "+1(502)-459-2181",
                        "province": "Kentucky",
                        "zip": "40202"
                      },
                      "origin": {
                        "address1": null,
                        "address2": null,
                        "city": null,
                        "country_code": "DE",
                        "location_id": 24826418,
                        "name": "Apple Api Shipwire",
                        "phone": null,
                        "province": null,
                        "zip": null
                      },
                      "line_items": [
                        {
                          "id": 1058737575,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000830,
                          "quantity": 1,
                          "line_item_id": 466157049,
                          "inventory_item_id": 39072856,
                          "fulfillable_quantity": 1,
                          "variant_id": 39072856
                        },
                        {
                          "id": 1058737576,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000830,
                          "quantity": 1,
                          "line_item_id": 518995019,
                          "inventory_item_id": 49148385,
                          "fulfillable_quantity": 1,
                          "variant_id": 49148385
                        },
                        {
                          "id": 1058737577,
                          "shop_id": 548380009,
                          "fulfillment_order_id": 1046000830,
                          "quantity": 1,
                          "line_item_id": 703073504,
                          "inventory_item_id": 457924702,
                          "fulfillable_quantity": 1,
                          "variant_id": 457924702
                        }
                      ],
                      "outgoing_requests": [],
                      "fulfillment_service_handle": "shipwire-app"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "x-examples": [
        {
          "status": "200",
          "request_query": "",
          "request_path": "/admin/api/2023-04/fulfillment_orders/1046000830/fulfillment_request/reject.json",
          "request_method": "POST",
          "request": {
            "action": "POST /admin/api/2020-01/fulfillment_orders/1046000830/fulfillment_request/reject.json",
            "headers": {},
            "body": "{\"fulfillment_request\":{\"message\":\"Not enough inventory on hand to complete the work.\",\"reason\":\"inventory_out_of_stock\",\"line_items\":[{\"fulfillment_order_line_item_id\":1058737575,\"message\":\"Not enough inventory.\"}]}}"
          },
          "response": {
            "action": "HTTP/1.1 200 OK",
            "headers": {},
            "body": "{\"fulfillment_order\":{\"id\":1046000830,\"shop_id\":548380009,\"order_id\":450789469,\"assigned_location_id\":24826418,\"request_status\":\"rejected\",\"status\":\"open\",\"supported_actions\":[\"request_fulfillment\",\"create_fulfillment\"],\"destination\":{\"id\":1046000824,\"address1\":\"Chestnut Street 92\",\"address2\":\"\",\"city\":\"Louisville\",\"company\":null,\"country\":\"United States\",\"email\":\"bob.norman@mail.example.com\",\"first_name\":\"Bob\",\"last_name\":\"Norman\",\"phone\":\"+1(502)-459-2181\",\"province\":\"Kentucky\",\"zip\":\"40202\"},\"origin\":{\"address1\":null,\"address2\":null,\"city\":null,\"country_code\":\"DE\",\"location_id\":24826418,\"name\":\"Apple Api Shipwire\",\"phone\":null,\"province\":null,\"zip\":null},\"line_items\":[{\"id\":1058737575,\"shop_id\":548380009,\"fulfillment_order_id\":1046000830,\"quantity\":1,\"line_item_id\":466157049,\"inventory_item_id\":39072856,\"fulfillable_quantity\":1,\"variant_id\":39072856},{\"id\":1058737576,\"shop_id\":548380009,\"fulfillment_order_id\":1046000830,\"quantity\":1,\"line_item_id\":518995019,\"inventory_item_id\":49148385,\"fulfillable_quantity\":1,\"variant_id\":49148385},{\"id\":1058737577,\"shop_id\":548380009,\"fulfillment_order_id\":1046000830,\"quantity\":1,\"line_item_id\":703073504,\"inventory_item_id\":457924702,\"fulfillable_quantity\":1,\"variant_id\":457924702}],\"outgoing_requests\":[],\"fulfillment_service_handle\":\"shipwire-app\"}}"
          },
          "name": "Rejects a fulfillment request sent to a fulfillment service and updates the fulfillment order",
          "codeSamples": [
            {
              "language": "curl",
              "example_code": "curl -d '{\"fulfillment_request\":{\"message\":\"Not enough inventory on hand to complete the work.\",\"reason\":\"inventory_out_of_stock\",\"line_items\":[{\"fulfillment_order_line_item_id\":1058737575,\"message\":\"Not enough inventory.\"}]}}' \\\n-X POST \"https://your-development-store.myshopify.com/admin/api/2023-04/fulfillment_orders/1046000830/fulfillment_request/reject.json\" \\\n-H \"X-Shopify-Access-Token: {access_token}\" \\\n-H \"Content-Type: application/json\"\n"
            },
            {
              "language": "ruby",
              "example_code": "test_session = ShopifyAPI::Utils::SessionUtils.load_current_session(\n  auth_header: request.auth_header,\n  cookies: request.cookies,\n)\n\nfulfillment_request = ShopifyAPI::FulfillmentRequest.new(session: test_session)\nfulfillment_request.fulfillment_order_id = 1046000830\nfulfillment_request.reject(\n  session: test_session,\n  body: {\"fulfillment_request\" => {\"message\" => \"Not enough inventory on hand to complete the work.\", \"reason\" => \"inventory_out_of_stock\", \"line_items\" => [{\"fulfillment_order_line_item_id\" => 1058737575, \"message\" => \"Not enough inventory.\"}]}},\n)"
            },
            {
              "language": "node",
              "example_code": "// Session is built by the OAuth process\n\nconst fulfillment_request = new shopify.rest.FulfillmentRequest({session: session});\nfulfillment_request.fulfillment_order_id = 1046000830;\nawait fulfillment_request.reject({\n  body: {\"fulfillment_request\": {\"message\": \"Not enough inventory on hand to complete the work.\", \"reason\": \"inventory_out_of_stock\", \"line_items\": [{\"fulfillment_order_line_item_id\": 1058737575, \"message\": \"Not enough inventory.\"}]}},\n});"
            },
            {
              "language": "php",
              "example_code": "use Shopify\\Rest\\Admin2023_04\\FulfillmentRequest;\nuse Shopify\\Utils;\n\n$this->test_session = Utils::loadCurrentSession(\n    $requestHeaders,\n    $requestCookies,\n    $isOnline\n);\n\n$fulfillment_request = new FulfillmentRequest($this->test_session);\n$fulfillment_request->fulfillment_order_id = 1046000830;\n$fulfillment_request->reject(\n    [], // Params\n    [\"fulfillment_request\" => [\"message\" => \"Not enough inventory on hand to complete the work.\", \"reason\" => \"inventory_out_of_stock\", \"line_items\" => [[\"fulfillment_order_line_item_id\" => 1058737575, \"message\" => \"Not enough inventory.\"]]]], // Body\n);"
            }
          ]
        }
      ],
      "x-api-accessibilities": {
        "initial": [
          {
            "scope": "assigned_fulfillment_orders"
          }
        ]
      },
      "url": "/admin/api/{api_version}/fulfillment_orders/{fulfillment_order_id}/fulfillment_request/reject.json",
      "action": "post"
    }
  ],
  "components": [
    {
      "name": "FulfillmentRequest",
      "title": "FulfillmentRequest",
      "type": "object",
      "properties": [],
      "required": null
    }
  ],
  "x-shopify-meta": {
    "channels": false,
    "file_name": "shipping-and-fulfillment/fulfillmentrequest",
    "gid": "6e224cd0-1248-4ae2-b38a-ae32349dc92b",
    "glossary": false,
    "hidden": false,
    "legacy-urls": [
      "/api/reference/shipping-and-fulfillment/unstable/fulfillmentrequest"
    ],
    "meta_description": "Manage the fulfillment request flow of fulfillment orders assigned to fulfillment services.",
    "postman_group": "Shipping and fulfillment",
    "keywords": [
      "api"
    ],
    "api_versioning": true,
    "shopify_plus": false,
    "weight": null,
    "usage-notes": null
  },
  "personal_data_fields": {}
}